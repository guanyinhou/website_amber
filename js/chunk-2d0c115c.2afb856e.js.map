{"version":3,"sources":["webpack:///./src/views/front/Work.vue?2315","webpack:///src/views/front/Work.vue","webpack:///./src/views/front/Work.vue?d9ab","webpack:///./src/views/front/Work.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","undefined","work","staticClass","attrs","isLoading","on","$event","_v","_s","title","ref","$refs","c2","_l","item","idx","key","imageUrl","c1","description","origin_price","price","_f","addToCart","id","favorited","indexOf","updateFavorite","domProps","content","viewedProds","length","_b","settings1","viewedProd","preventDefault","_e","moreworks","category","morework","staticRenderFns","components","VueSlickCarousel","data","dots","infinite","speed","slidesToShow","slidesToScroll","initialSlide","responsive","prods","viewed","JSON","parse","localStorage","getItem","created","getWork","getViewed","getMoreworks","methods","push","$bus","$emit","splice","setItem","stringify","$http","get","url","then","product","quantity","qty","component"],"mappings":"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","file":"js/chunk-2d0c115c.2afb856e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.work !== undefined && _vm.work)?_c('div',{staticClass:\"work\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"text-center\"},[_c('h1',[_vm._v(_vm._s(_vm.work.title))])]),_c('hr'),_c('div',{staticClass:\"prod-zone\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('VueSlickCarousel',{ref:\"c1\",attrs:{\"asNavFor\":_vm.$refs.c2,\"focusOnSelect\":true}},_vm._l((5),function(item,idx){return _c('div',{key:idx},[_c('div',{staticClass:\"prod-img\"},[_c('img',{attrs:{\"src\":_vm.work.imageUrl[idx],\"alt\":idx}})])])}),0),_c('VueSlickCarousel',{ref:\"c2\",attrs:{\"asNavFor\":_vm.$refs.c1,\"slidesToShow\":4,\"focusOnSelect\":true}},_vm._l((5),function(item,idx){return _c('div',{key:idx},[_c('div',{staticClass:\"prod-img-small\"},[_c('img',{attrs:{\"src\":_vm.work.imageUrl[idx],\"alt\":idx}})])])}),0)],1),_c('div',{staticClass:\"col-md-5 offset-md-1\"},[_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"作品材質\")]),_c('p',[_vm._v(_vm._s(_vm.work.description))])]),_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"價格\")]),(_vm.work.origin_price === _vm.work.price)?_c('div',{staticClass:\"prod-origin-price\"},[_vm._v(\" 售價 \"+_vm._s(_vm._f(\"currency\")(_vm.work.origin_price))+\" \")]):_c('span',[_c('div',{staticClass:\"prod-origin-price old-price\"},[_vm._v(\" 售價 \"+_vm._s(_vm._f(\"currency\")(_vm.work.origin_price))+\" \")]),_c('div',{staticClass:\"prod-price\"},[_c('h2',[_vm._v(\"特價 \"+_vm._s(_vm._f(\"currency\")(_vm.work.price)))])])])]),_c('div',{staticClass:\"add-to-cart-zone\"},[_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(_vm.work.id)}}},[_c('i',{staticClass:\"fa fa-cart-plus\"}),_vm._v(\" 加入購物車 \")]),(_vm.favorited.indexOf(_vm.work.id) === -1)?_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateFavorite(_vm.work.id)}}},[_c('i',{staticClass:\"fa fa-heart-o\"}),_vm._v(\" 加入我的最愛 \")]):_c('button',{staticClass:\"btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateFavorite(_vm.work.id)}}},[_c('i',{staticClass:\"fa fa-heart text-danger\"}),_vm._v(\" 已加入我的最愛 \")])])])]),_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"作品介紹\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.work.content)}})]),(_vm.viewedProds !== undefined && _vm.viewedProds.length > 0)?_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"瀏覽紀錄：\")]),_c('VueSlickCarousel',_vm._b({},'VueSlickCarousel',_vm.settings1,false),_vm._l((_vm.viewedProds),function(viewedProd){return _c('div',{key:viewedProd.id},[_c('router-link',{staticClass:\"more-work\",attrs:{\"to\":(\"/product/\" + (viewedProd.id))}},[_c('div',{staticClass:\"more-work-img\"},[_c('img',{attrs:{\"src\":viewedProd.imageUrl[0],\"alt\":viewedProd.title}})]),_c('p',[_vm._v(_vm._s(viewedProd.title))]),_c('div',{staticClass:\"more-work-price\"},[(viewedProd.origin_price === viewedProd.price)?_c('div',{staticClass:\"prod-origin-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(viewedProd.origin_price))+\" \")]):_c('span',[_c('div',{staticClass:\"prod-origin-price old-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(viewedProd.origin_price))+\" \")]),_c('div',{staticClass:\"prod-price\"},[_c('h2',[_vm._v(_vm._s(_vm._f(\"currency\")(viewedProd.price)))])])])])]),_c('a',{staticClass:\"add-to-cart\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(viewedProd.id)}}},[_c('i',{staticClass:\"fa fa-cart-plus\"})]),_c('a',{staticClass:\"add-to-favorite\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateFavorite(viewedProd.id)}}},[(_vm.favorited.indexOf(viewedProd.id) === -1)?_c('i',{staticClass:\"fa fa-heart-o\"}):_c('i',{staticClass:\"fa fa-heart text-danger\"})])],1)}),0)],1):_vm._e(),(_vm.moreworks !== undefined && _vm.moreworks.length > 0)?_c('div',{staticClass:\"prod-content more-works\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"更多\"+_vm._s(_vm.work.category)+\"畫作品：\")]),_c('VueSlickCarousel',_vm._b({},'VueSlickCarousel',_vm.settings1,false),_vm._l((_vm.moreworks),function(morework){return _c('div',{key:morework.id},[_c('router-link',{staticClass:\"more-work\",attrs:{\"to\":(\"/product/\" + (morework.id))}},[_c('div',{staticClass:\"more-work-img\"},[_c('img',{attrs:{\"src\":morework.imageUrl[0],\"alt\":morework.title}})]),_c('p',[_vm._v(_vm._s(morework.title))]),_c('div',{staticClass:\"more-work-price\"},[(morework.origin_price === morework.price)?_c('div',{staticClass:\"prod-origin-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(morework.origin_price))+\" \")]):_c('span',[_c('div',{staticClass:\"prod-origin-price old-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(morework.origin_price))+\" \")]),_c('div',{staticClass:\"prod-price\"},[_c('h2',[_vm._v(_vm._s(_vm._f(\"currency\")(morework.price)))])])])])]),_c('a',{staticClass:\"add-to-cart\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(_vm.moreworks.id)}}},[_c('i',{staticClass:\"fa fa-cart-plus\"})]),_c('a',{staticClass:\"add-to-favorite\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateFavorite(_vm.moreworks.id)}}},[(_vm.favorited.indexOf(_vm.moreworks.id) === -1)?_c('i',{staticClass:\"fa fa-heart-o\"}):_c('i',{staticClass:\"fa fa-heart text-danger\"})])],1)}),0)],1):_vm._e()])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"work\" v-if=\"work !== undefined && work\">\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"container\">\r\n      <div class=\"text-center\">\r\n        <h1>{{ work.title }}</h1>\r\n      </div>\r\n      <hr />\r\n      <div class=\"prod-zone\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <VueSlickCarousel\r\n              ref=\"c1\"\r\n              :asNavFor=\"$refs.c2\"\r\n              :focusOnSelect=\"true\"\r\n            >\r\n              <div v-for=\"(item, idx) in 5\" :key=\"idx\">\r\n                <div class=\"prod-img\">\r\n                  <img :src=\"work.imageUrl[idx]\" :alt=\"idx\" />\r\n                </div>\r\n              </div>\r\n            </VueSlickCarousel>\r\n            <VueSlickCarousel\r\n              ref=\"c2\"\r\n              :asNavFor=\"$refs.c1\"\r\n              :slidesToShow=\"4\"\r\n              :focusOnSelect=\"true\"\r\n            >\r\n              <div v-for=\"(item, idx) in 5\" :key=\"idx\">\r\n                <div class=\"prod-img-small\">\r\n                  <img :src=\"work.imageUrl[idx]\" :alt=\"idx\" />\r\n                </div>\r\n              </div>\r\n            </VueSlickCarousel>\r\n            <!-- <div class=\"prod-img\" v-for=\"(item, idx) in 5\" :key=\"idx\">\r\n                <img :src=\"work.imageUrl[idx]\" />\r\n              </div> -->\r\n          </div>\r\n          <div class=\"col-md-5 offset-md-1\">\r\n            <div class=\"prod-content\">\r\n              <div class=\"sub-title\">作品材質</div>\r\n              <p>{{ work.description }}</p>\r\n            </div>\r\n            <div class=\"prod-content\">\r\n              <div class=\"sub-title\">價格</div>\r\n              <div\r\n                class=\"prod-origin-price\"\r\n                v-if=\"work.origin_price === work.price\"\r\n              >\r\n                售價 {{ work.origin_price | currency }}\r\n              </div>\r\n              <span v-else>\r\n                <div class=\"prod-origin-price old-price\">\r\n                  售價 {{ work.origin_price | currency }}\r\n                </div>\r\n                <div class=\"prod-price\">\r\n                  <h2>特價 {{ work.price | currency }}</h2>\r\n                </div>\r\n              </span>\r\n            </div>\r\n            <div class=\"add-to-cart-zone\">\r\n              <button class=\"btn\" @click=\"addToCart(work.id)\" type=\"button\">\r\n                <i class=\"fa fa-cart-plus\"></i> 加入購物車\r\n              </button>\r\n              <button\r\n                class=\"btn\"\r\n                @click=\"updateFavorite(work.id)\"\r\n                v-if=\"favorited.indexOf(work.id) === -1\"\r\n                type=\"button\"\r\n              >\r\n                <i class=\"fa fa-heart-o\"></i> 加入我的最愛\r\n              </button>\r\n              <button\r\n                class=\"btn\"\r\n                @click=\"updateFavorite(work.id)\"\r\n                v-else\r\n                type=\"button\"\r\n              >\r\n                <i class=\"fa fa-heart text-danger\"></i> 已加入我的最愛\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"prod-content\">\r\n          <div class=\"sub-title\">作品介紹</div>\r\n          <div v-html=\"work.content\"></div>\r\n        </div>\r\n        <div\r\n          class=\"prod-content\"\r\n          v-if=\"viewedProds !== undefined && viewedProds.length > 0\"\r\n        >\r\n          <div class=\"sub-title\">瀏覽紀錄：</div>\r\n          <VueSlickCarousel v-bind=\"settings1\">\r\n            <div v-for=\"viewedProd in viewedProds\" :key=\"viewedProd.id\">\r\n              <router-link class=\"more-work\" :to=\"`/product/${viewedProd.id}`\">\r\n                <div class=\"more-work-img\">\r\n                  <img :src=\"viewedProd.imageUrl[0]\" :alt=\"viewedProd.title\" />\r\n                </div>\r\n                <p>{{ viewedProd.title }}</p>\r\n                <div class=\"more-work-price\">\r\n                  <div\r\n                    class=\"prod-origin-price\"\r\n                    v-if=\"viewedProd.origin_price === viewedProd.price\"\r\n                  >\r\n                    {{ viewedProd.origin_price | currency }}\r\n                  </div>\r\n                  <span v-else>\r\n                    <div class=\"prod-origin-price old-price\">\r\n                      {{ viewedProd.origin_price | currency }}\r\n                    </div>\r\n                    <div class=\"prod-price\">\r\n                      <h2>{{ viewedProd.price | currency }}</h2>\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n              </router-link>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-cart\"\r\n                @click.prevent=\"addToCart(viewedProd.id)\"\r\n              >\r\n                <i class=\"fa fa-cart-plus\"></i>\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-favorite\"\r\n                @click.prevent=\"updateFavorite(viewedProd.id)\"\r\n              >\r\n                <i\r\n                  class=\"fa fa-heart-o\"\r\n                  v-if=\"favorited.indexOf(viewedProd.id) === -1\"\r\n                ></i>\r\n                <i class=\"fa fa-heart text-danger\" v-else></i>\r\n              </a>\r\n            </div>\r\n          </VueSlickCarousel>\r\n        </div>\r\n        <div\r\n          class=\"prod-content more-works\"\r\n          v-if=\"moreworks !== undefined && moreworks.length > 0\"\r\n        >\r\n          <div class=\"sub-title\">更多{{ work.category }}畫作品：</div>\r\n          <VueSlickCarousel v-bind=\"settings1\">\r\n            <div v-for=\"morework in moreworks\" :key=\"morework.id\">\r\n              <!-- <router-link :to=\"`/product/${prod.id}`\"> -->\r\n              <router-link :to=\"`/product/${morework.id}`\" class=\"more-work\">\r\n                <div class=\"more-work-img\">\r\n                  <img :src=\"morework.imageUrl[0]\" :alt=\"morework.title\" />\r\n                </div>\r\n                <p>{{ morework.title }}</p>\r\n                <div class=\"more-work-price\">\r\n                  <div\r\n                    class=\"prod-origin-price\"\r\n                    v-if=\"morework.origin_price === morework.price\"\r\n                  >\r\n                    {{ morework.origin_price | currency }}\r\n                  </div>\r\n                  <span v-else>\r\n                    <div class=\"prod-origin-price old-price\">\r\n                      {{ morework.origin_price | currency }}\r\n                    </div>\r\n                    <div class=\"prod-price\">\r\n                      <h2>{{ morework.price | currency }}</h2>\r\n                    </div>\r\n                  </span>\r\n                </div>\r\n              </router-link>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-cart\"\r\n                @click.prevent=\"addToCart(moreworks.id)\"\r\n              >\r\n                <i class=\"fa fa-cart-plus\"></i>\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-favorite\"\r\n                @click.prevent=\"updateFavorite(moreworks.id)\"\r\n              >\r\n                <i\r\n                  class=\"fa fa-heart-o\"\r\n                  v-if=\"favorited.indexOf(moreworks.id) === -1\"\r\n                ></i>\r\n                <i class=\"fa fa-heart text-danger\" v-else></i>\r\n              </a>\r\n            </div>\r\n          </VueSlickCarousel>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueSlickCarousel from \"vue-slick-carousel\";\r\nimport \"vue-slick-carousel/dist/vue-slick-carousel.css\";\r\nimport \"vue-slick-carousel/dist/vue-slick-carousel-theme.css\";\r\n\r\nexport default {\r\n  components: {\r\n    VueSlickCarousel\r\n  },\r\n  data() {\r\n    return {\r\n      settings1: {\r\n        dots: true,\r\n        infinite: false,\r\n        speed: 500,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 4,\r\n        initialSlide: 0,\r\n        responsive: [\r\n          {\r\n            breakpoint: 1024,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 3,\r\n              infinite: true,\r\n              dots: true\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 600,\r\n            settings: {\r\n              slidesToShow: 2,\r\n              slidesToScroll: 2,\r\n              initialSlide: 2\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 480,\r\n            settings: {\r\n              slidesToShow: 1,\r\n              slidesToScroll: 1\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      work: {\r\n        imageUrl: []\r\n      },\r\n      prods: [],\r\n      moreworks: [],\r\n      viewedProds: [],\r\n      viewed: JSON.parse(localStorage.getItem(\"viewedList\")) || [],\r\n      favorited: JSON.parse(localStorage.getItem(\"favoriteList\")) || [],\r\n      isLoading: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getWork();\r\n    this.getViewed();\r\n    this.getMoreworks();\r\n  },\r\n  methods: {\r\n    updateFavorite(id) {\r\n      if (this.favorited.indexOf(id) === -1) {\r\n        this.favorited.push(id);\r\n        this.$bus.$emit(\"message:push\", \"已加入我的最愛\", \"info\");\r\n      } else {\r\n        this.favorited.splice(this.favorited.indexOf(id), 1);\r\n        this.$bus.$emit(\"message:push\", \"已移出我的最愛\", \"info\");\r\n      }\r\n      localStorage.setItem(\"favoriteList\", JSON.stringify(this.favorited));\r\n      this.$bus.$emit(\"get-favorite-num:favorited\", id);\r\n    },\r\n    getWork() {\r\n      const id = this.$route.params.id;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/product/${id}`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then(res => {\r\n        this.isLoading = false;\r\n        this.work = res.data.data;\r\n      });\r\n    },\r\n    getMoreworks() {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products?paged=40`;\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.isLoading = false;\r\n          this.prods = res.data.data;\r\n          // 相關作品\r\n          this.moreworks = this.prods.filter(\r\n            item =>\r\n              item.category === this.work.category && item.id !== this.work.id\r\n          );\r\n        })\r\n        .catch(err => {\r\n          this.isLoading = false;\r\n          this.$bus.$emit(\"message:push\", err.response.data.message, \"danger\");\r\n        });\r\n    },\r\n    getViewed() {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products?paged=40`;\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.isLoading = false;\r\n          this.prods = res.data.data;\r\n          // 瀏覽紀錄\r\n          const viewedId = this.$route.params.id;\r\n          if (this.viewed.indexOf(viewedId) === -1) {\r\n            this.viewed.push(viewedId);\r\n          } else {\r\n            this.viewed.splice(this.viewed.indexOf(viewedId));\r\n          }\r\n          localStorage.setItem(\"viewedList\", JSON.stringify(this.viewed));\r\n          this.viewedProds = this.prods.filter(\r\n            item => this.viewed.indexOf(item.id) > -1\r\n          );\r\n        })\r\n        .catch(err => {\r\n          this.isLoading = false;\r\n          this.$bus.$emit(\"message:push\", err.response.data.message, \"danger\");\r\n        });\r\n    },\r\n    addToCart(id, qty = 1) {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\r\n      const cart = {\r\n        product: id,\r\n        quantity: qty\r\n      };\r\n\r\n      this.$http\r\n        .post(url, cart)\r\n        .then(res => {\r\n          this.isLoading = false;\r\n          this.$bus.$emit(\r\n            \"message:push\",\r\n            res.data.data.product.title + \"已加入購物車\",\r\n            \"info\"\r\n          );\r\n          this.$bus.$emit(\"get-cart-num\");\r\n        })\r\n        .catch(err => {\r\n          this.isLoading = false;\r\n          this.$bus.$emit(\r\n            \"message:push\",\r\n            err.response.data.errors[0],\r\n            \"danger\"\r\n          );\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Work.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Work.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Work.vue?vue&type=template&id=2c222276&\"\nimport script from \"./Work.vue?vue&type=script&lang=js&\"\nexport * from \"./Work.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}