(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02812be0"],{"02f8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"works"},[a("div",{staticClass:"container"},[a("h1",[t._v("作品集")]),a("hr"),a("br"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"prod-cate"},[a("h4",[t._v("作品分類")]),a("ul",[a("li",[a("a",{class:{active:""===t.filterCate},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCate=""}}},[t._v(" 全部 ")])]),t._l(t.cates,(function(e){return a("li",{key:e},[a("a",{class:{active:e===t.filterCate},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.filterCate=e}}},[t._v(" "+t._s(e)+" ")])])}))],2)])]),a("div",{staticClass:"col-sm-9"},[a("ul",{staticClass:"row prod-list"},t._l(t.filterCates,(function(e){return a("li",{key:e.id,staticClass:"col-lg-3 col-md-4 col-sm-6 col-6 full-479"},[a("router-link",{attrs:{to:"/product/"+e.id}},[a("div",{staticClass:"prod-image"},[a("img",{attrs:{src:e.imageUrl[0],alt:e.title}})]),a("div",{staticClass:"prod-title"},[t._v(t._s(e.title))]),e.origin_price===e.price?a("div",{staticClass:"prod-origin-price"},[t._v(" 售價 "+t._s(t._f("currency")(e.origin_price))+" ")]):a("span",[a("div",{staticClass:"prod-origin-price old-price"},[t._v(" 售價 "+t._s(t._f("currency")(e.origin_price))+" ")]),a("div",{staticClass:"prod-price"},[a("b",[t._v("特價 "+t._s(t._f("currency")(e.price)))])])])]),a("a",{staticClass:"add-to-cart",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addToCart(e.id)}}},[a("i",{staticClass:"fa fa-cart-plus"})]),a("a",{staticClass:"add-to-favorite",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updateFavorite(e.id)}}},[-1===t.favorited.indexOf(e.id)?a("i",{staticClass:"fa fa-heart-o"}):a("i",{staticClass:"fa fa-heart text-danger"})])],1)})),0)])]),a("hr"),a("div",{staticClass:"float-right"},[a("pagination",{attrs:{pages:t.pagination},on:{update:t.getProds}})],1)])])},r=[],s=(a("99af"),a("4de4"),a("caad"),a("c975"),a("a434"),a("2532"),a("1799")),n={components:{pagination:s["a"]},data:function(){return{prods:[],isLoading:!1,pagination:{},cates:["風景","海景"],filterCate:"",favorited:JSON.parse(localStorage.getItem("favoriteList"))||[]}},methods:{updateFavorite:function(t){console.log(t),-1===this.favorited.indexOf(t)?(this.favorited.push(t),this.$bus.$emit("message:push","已加入我的最愛","info")):(this.favorited.splice(this.favorited.indexOf(t),1),this.$bus.$emit("message:push","已移出我的最愛","info")),localStorage.setItem("favoriteList",JSON.stringify(this.favorited)),this.$bus.$emit("get-favorite-num:favorited",t),console.log(this.favorited)},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/shopping"),r={product:t,quantity:a};console.log(r),this.$http.post(i,r).then((function(t){e.isLoading=!1,console.log(t),e.$bus.$emit("message:push",t.data.data.product.title+"已加入購物車","info"),e.$bus.$emit("get-cart-num")})).catch((function(t){e.isLoading=!1,console.dir(t.response.data.errors[0]),e.$bus.$emit("message:push",t.response.data.errors[0],"danger")}))},getProds:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/products?page=").concat(e,"&paged=40");this.$http.get(a).then((function(e){var a=t.$route.params.cateName;a&&(t.filterCate=a),t.isLoading=!1,t.prods=e.data.data,console.log(t.prods),t.pagination=e.data.meta.pagination})).catch((function(e){console.dir(e),t.isLoading=!1,t.$bus.$emit("message:push",e.response.data.message,"danger")}))}},created:function(){this.getProds()},computed:{filterCates:function(){var t=this;return this.filterCate?this.prods.filter((function(e){var a=e.category.toLowerCase().includes(t.filterCate.toLowerCase());return a})):this.prods}}},o=n,c=a("2877"),l=Object(c["a"])(o,i,r,!1,null,null,null);e["default"]=l.exports},1799:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:1===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pages.current_page-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pages.total_pages,(function(e,i){return a("li",{key:i,staticClass:"page-item",class:{active:e===t.pages.current_page}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.updatePage(e)}}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"page-item",class:{disabled:t.pages.current_page===t.pages.total_pages}},[a("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.updatePage(t.pages.current_page+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},r=[],s={props:["pages"],methods:{updatePage:function(t){this.$emit("update",t)}}},n=s,o=a("2877"),c=Object(o["a"])(n,i,r,!1,null,null,null);e["a"]=c.exports},2532:function(t,e,a){"use strict";var i=a("23e7"),r=a("5a34"),s=a("1d80"),n=a("ab13");i({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(s(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var i=a("861d"),r=a("c6b6"),s=a("b622"),n=s("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==r(t))}},"5a34":function(t,e,a){var i=a("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"99af":function(t,e,a){"use strict";var i=a("23e7"),r=a("d039"),s=a("e8b5"),n=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),p=a("2d00"),g=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",C=p>=51||!r((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=u("concat"),b=function(t){if(!n(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)},_=!C||!m;i({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,i,r,s,n=o(this),u=d(n,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?n:arguments[e],b(s)){if(r=c(s.length),f+r>h)throw TypeError(v);for(a=0;a<r;a++,f++)a in s&&l(u,f,s[a])}else{if(f>=h)throw TypeError(v);l(u,f++,s)}return u.length=f,u}})},ab13:function(t,e,a){var i=a("b622"),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},c975:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").indexOf,s=a("a640"),n=a("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=s("indexOf"),d=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},caad:function(t,e,a){"use strict";var i=a("23e7"),r=a("4d64").includes,s=a("44d2"),n=a("ae40"),o=n("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!o},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-02812be0.fea61980.js.map