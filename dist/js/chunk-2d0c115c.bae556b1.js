(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c115c"],{4516:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.prods?s("div",{staticClass:"work"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),s("div",{staticClass:"container"},[s("div",{staticClass:"text-center"},[s("h1",[t._v(t._s(t.work.title))])]),s("hr"),s("div",{staticClass:"prod-zone"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("VueSlickCarousel",{ref:"c1",attrs:{asNavFor:t.$refs.c2,focusOnSelect:!0}},t._l(5,(function(i,e){return s("div",{key:e},[s("div",{staticClass:"prod-img"},[s("img",{attrs:{src:t.work.imageUrl[e]}})])])})),0),s("VueSlickCarousel",{ref:"c2",attrs:{asNavFor:t.$refs.c1,slidesToShow:4,focusOnSelect:!0}},t._l(5,(function(i,e){return s("div",{key:e},[s("div",{staticClass:"prod-img-small"},[s("img",{attrs:{src:t.work.imageUrl[e]}})])])})),0)],1),s("div",{staticClass:"col-md-5 offset-md-1"},[s("div",{staticClass:"prod-content"},[s("div",{staticClass:"sub-title"},[t._v("作品材質")]),s("p",[t._v(t._s(t.work.description))])]),s("div",{staticClass:"prod-content"},[s("div",{staticClass:"sub-title"},[t._v("價格")]),t.work.origin_price===t.work.price?s("div",{staticClass:"prod-origin-price"},[t._v(" 售價 "+t._s(t._f("currency")(t.work.origin_price))+" ")]):s("span",[s("div",{staticClass:"prod-origin-price old-price"},[t._v(" 售價 "+t._s(t._f("currency")(t.work.origin_price))+" ")]),s("div",{staticClass:"prod-price"},[s("h2",[t._v("特價 "+t._s(t._f("currency")(t.work.price)))])])])]),s("div",{staticClass:"add-to-cart-zone"},[s("button",{staticClass:"btn",on:{click:function(i){return t.addToCart(t.work.id)}}},[s("i",{staticClass:"fa fa-cart-plus"}),t._v(" 加入購物車 ")]),-1===t.favorited.indexOf(t.work.id)?s("button",{staticClass:"btn",on:{click:function(i){return t.updateFavorite(t.work.id)}}},[s("i",{staticClass:"fa fa-heart-o"}),t._v(" 加入我的最愛 ")]):s("button",{staticClass:"btn",on:{click:function(i){return t.updateFavorite(t.work.id)}}},[s("i",{staticClass:"fa fa-heart text-danger"}),t._v(" 已加入我的最愛 ")])])])]),s("br"),s("br"),s("br"),s("div",{staticClass:"prod-content"},[s("div",{staticClass:"sub-title"},[t._v("作品介紹")]),s("div",{domProps:{innerHTML:t._s(t.work.content)}})]),s("br"),s("br"),s("br"),s("br"),t.viewedProds.length>0?s("div",{staticClass:"prod-content"},[s("div",{staticClass:"sub-title"},[t._v("瀏覽紀錄：")]),s("VueSlickCarousel",t._b({},"VueSlickCarousel",t.settings1,!1),t._l(t.viewedProds,(function(i){return s("div",{key:i.id},[s("router-link",{staticClass:"more-work",attrs:{to:"/product/"+i.id}},[s("div",{staticClass:"more-work-img"},[s("img",{attrs:{src:i.imageUrl[0],alt:"viewedProd.title"}})]),s("div",{staticClass:"text-center"},[s("p",[t._v(t._s(i.title))]),s("div",{staticClass:"more-work-price"},[i.origin_price===i.price?s("div",{staticClass:"prod-origin-price"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]):s("span",[s("div",{staticClass:"prod-origin-price old-price"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]),s("div",{staticClass:"prod-price"},[s("h2",[t._v(t._s(t._f("currency")(i.price)))])])])])])]),s("a",{staticClass:"add-to-cart",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.addToCart(i.id)}}},[s("i",{staticClass:"fa fa-cart-plus"})]),s("a",{staticClass:"add-to-favorite",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.updateFavorite(i.id)}}},[-1===t.favorited.indexOf(i.id)?s("i",{staticClass:"fa fa-heart-o"}):s("i",{staticClass:"fa fa-heart text-danger"})])],1)})),0)],1):t._e(),t.moreworks.length>0?s("div",{staticClass:"prod-content more-works"},[s("div",{staticClass:"sub-title"},[t._v("更多"+t._s(t.work.category)+"畫作品：")]),s("VueSlickCarousel",t._b({},"VueSlickCarousel",t.settings1,!1),t._l(t.moreworks,(function(i){return s("div",{key:i.id},[s("router-link",{staticClass:"more-work",attrs:{to:"/product/"+i.id}},[s("div",{staticClass:"more-work-img"},[s("img",{attrs:{src:i.imageUrl[0],alt:"morework.title"}})]),s("div",{staticClass:"text-center"},[s("p",[t._v(t._s(i.title))]),s("div",{staticClass:"more-work-price"},[i.origin_price===i.price?s("div",{staticClass:"prod-origin-price"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]):s("span",[s("div",{staticClass:"prod-origin-price old-price"},[t._v(" "+t._s(t._f("currency")(i.origin_price))+" ")]),s("div",{staticClass:"prod-price"},[s("h2",[t._v(t._s(t._f("currency")(i.price)))])])])])])]),s("a",{staticClass:"add-to-cart",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.addToCart(t.moreworks.id)}}},[s("i",{staticClass:"fa fa-cart-plus"})]),s("a",{staticClass:"add-to-favorite",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.updateFavorite(t.moreworks.id)}}},[-1===t.favorited.indexOf(t.moreworks.id)?s("i",{staticClass:"fa fa-heart-o"}):s("i",{staticClass:"fa fa-heart text-danger"})])],1)})),0)],1):t._e()])])],1):t._e()},a=[],r=(s("99af"),s("4de4"),s("c975"),s("a434"),s("a7ab")),o=s.n(r),c=(s("7b8d"),s("6a2c"),{components:{VueSlickCarousel:o.a},data:function(){return{settings1:{dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},work:{},prods:null,moreworks:[],viewedProds:[],viewed:JSON.parse(localStorage.getItem("viewedList"))||[],favorited:JSON.parse(localStorage.getItem("favoriteList"))||[],isLoading:!1}},created:function(){this.getWork(),this.getViewed(),this.getMoreworks()},methods:{updateFavorite:function(t){-1===this.favorited.indexOf(t)?(this.favorited.push(t),this.$bus.$emit("message:push","已加入我的最愛","info")):(this.favorited.splice(this.favorited.indexOf(t),1),this.$bus.$emit("message:push","已移出我的最愛","info")),localStorage.setItem("favoriteList",JSON.stringify(this.favorited)),this.$bus.$emit("get-favorite-num:favorited",t)},getWork:function(){var t=this;this.isLoading=!0;var i=this.$route.params.id;this.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/product/").concat(i)).then((function(i){t.isLoading=!1,t.work=i.data.data,console.log(t.work)}))},getMoreworks:function(){var t=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/products?paged=40");this.$http.get(i).then((function(i){t.isLoading=!1,t.prods=i.data.data,console.log(t.prods),t.moreworks=t.prods.filter((function(i){return i.category===t.work.category&&i.id!==t.work.id})),console.log("moreworks",t.moreworks)})).catch((function(i){console.dir(i),t.isLoading=!1,t.$bus.$emit("message:push",i.response.data.message,"danger")}))},getViewed:function(){var t=this;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/products?paged=40");this.$http.get(i).then((function(i){t.isLoading=!1,t.prods=i.data.data,console.log(t.prods);var s=t.$route.params.id;-1===t.viewed.indexOf(s)?t.viewed.push(s):t.viewed.splice(t.viewed.indexOf(s)),localStorage.setItem("viewedList",JSON.stringify(t.viewed)),t.viewedProds=t.prods.filter((function(i){return t.viewed.indexOf(i.id)>-1})),console.log("viewedProds",t.viewedProds)})).catch((function(i){console.dir(i),t.isLoading=!1,t.$bus.$emit("message:push",i.response.data.message,"danger")}))},addToCart:function(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/shopping"),a={product:t,quantity:s};console.log(a),this.$http.post(e,a).then((function(t){console.log(t),i.$bus.$emit("message:push",t.data.data.product.title+"已加入購物車","info"),i.$bus.$emit("get-cart-num")})).catch((function(t){i.$bus.$emit("message:push",t.response.data.errors[0],"danger")}))}}}),n=c,d=s("2877"),l=Object(d["a"])(n,e,a,!1,null,null,null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0c115c.bae556b1.js.map