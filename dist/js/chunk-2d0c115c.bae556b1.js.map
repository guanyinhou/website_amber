{"version":3,"sources":["webpack:///./src/views/front/Work.vue?990c","webpack:///src/views/front/Work.vue","webpack:///./src/views/front/Work.vue?d9ab","webpack:///./src/views/front/Work.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_v","_s","work","title","ref","$refs","c2","_l","item","idx","key","imageUrl","c1","description","origin_price","price","_f","addToCart","id","favorited","indexOf","updateFavorite","domProps","content","viewedProds","length","_b","settings1","viewedProd","preventDefault","_e","moreworks","category","morework","staticRenderFns","components","VueSlickCarousel","data","dots","infinite","speed","slidesToShow","slidesToScroll","initialSlide","responsive","prods","viewed","JSON","parse","localStorage","getItem","created","getWork","getViewed","getMoreworks","methods","push","$bus","$emit","splice","setItem","stringify","$http","product","quantity","qty","console","log","cart","component"],"mappings":"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","file":"js/chunk-2d0c115c.bae556b1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.prods)?_c('div',{staticClass:\"work\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"text-center\"},[_c('h1',[_vm._v(_vm._s(_vm.work.title))])]),_c('hr'),_c('div',{staticClass:\"prod-zone\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('VueSlickCarousel',{ref:\"c1\",attrs:{\"asNavFor\":_vm.$refs.c2,\"focusOnSelect\":true}},_vm._l((5),function(item,idx){return _c('div',{key:idx},[_c('div',{staticClass:\"prod-img\"},[_c('img',{attrs:{\"src\":_vm.work.imageUrl[idx]}})])])}),0),_c('VueSlickCarousel',{ref:\"c2\",attrs:{\"asNavFor\":_vm.$refs.c1,\"slidesToShow\":4,\"focusOnSelect\":true}},_vm._l((5),function(item,idx){return _c('div',{key:idx},[_c('div',{staticClass:\"prod-img-small\"},[_c('img',{attrs:{\"src\":_vm.work.imageUrl[idx]}})])])}),0)],1),_c('div',{staticClass:\"col-md-5 offset-md-1\"},[_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"作品材質\")]),_c('p',[_vm._v(_vm._s(_vm.work.description))])]),_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"價格\")]),(_vm.work.origin_price === _vm.work.price)?_c('div',{staticClass:\"prod-origin-price\"},[_vm._v(\" 售價 \"+_vm._s(_vm._f(\"currency\")(_vm.work.origin_price))+\" \")]):_c('span',[_c('div',{staticClass:\"prod-origin-price old-price\"},[_vm._v(\" 售價 \"+_vm._s(_vm._f(\"currency\")(_vm.work.origin_price))+\" \")]),_c('div',{staticClass:\"prod-price\"},[_c('h2',[_vm._v(\"特價 \"+_vm._s(_vm._f(\"currency\")(_vm.work.price)))])])])]),_c('div',{staticClass:\"add-to-cart-zone\"},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.addToCart(_vm.work.id)}}},[_c('i',{staticClass:\"fa fa-cart-plus\"}),_vm._v(\" 加入購物車 \")]),(_vm.favorited.indexOf(_vm.work.id) === -1)?_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.updateFavorite(_vm.work.id)}}},[_c('i',{staticClass:\"fa fa-heart-o\"}),_vm._v(\" 加入我的最愛 \")]):_c('button',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.updateFavorite(_vm.work.id)}}},[_c('i',{staticClass:\"fa fa-heart text-danger\"}),_vm._v(\" 已加入我的最愛 \")])])])]),_c('br'),_c('br'),_c('br'),_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"作品介紹\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.work.content)}})]),_c('br'),_c('br'),_c('br'),_c('br'),(_vm.viewedProds.length > 0)?_c('div',{staticClass:\"prod-content\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"瀏覽紀錄：\")]),_c('VueSlickCarousel',_vm._b({},'VueSlickCarousel',_vm.settings1,false),_vm._l((_vm.viewedProds),function(viewedProd){return _c('div',{key:viewedProd.id},[_c('router-link',{staticClass:\"more-work\",attrs:{\"to\":(\"/product/\" + (viewedProd.id))}},[_c('div',{staticClass:\"more-work-img\"},[_c('img',{attrs:{\"src\":viewedProd.imageUrl[0],\"alt\":\"viewedProd.title\"}})]),_c('div',{staticClass:\"text-center\"},[_c('p',[_vm._v(_vm._s(viewedProd.title))]),_c('div',{staticClass:\"more-work-price\"},[(viewedProd.origin_price === viewedProd.price)?_c('div',{staticClass:\"prod-origin-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(viewedProd.origin_price))+\" \")]):_c('span',[_c('div',{staticClass:\"prod-origin-price old-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(viewedProd.origin_price))+\" \")]),_c('div',{staticClass:\"prod-price\"},[_c('h2',[_vm._v(_vm._s(_vm._f(\"currency\")(viewedProd.price)))])])])])])]),_c('a',{staticClass:\"add-to-cart\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(viewedProd.id)}}},[_c('i',{staticClass:\"fa fa-cart-plus\"})]),_c('a',{staticClass:\"add-to-favorite\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateFavorite(viewedProd.id)}}},[(_vm.favorited.indexOf(viewedProd.id) === -1)?_c('i',{staticClass:\"fa fa-heart-o\"}):_c('i',{staticClass:\"fa fa-heart text-danger\"})])],1)}),0)],1):_vm._e(),(_vm.moreworks.length > 0)?_c('div',{staticClass:\"prod-content more-works\"},[_c('div',{staticClass:\"sub-title\"},[_vm._v(\"更多\"+_vm._s(_vm.work.category)+\"畫作品：\")]),_c('VueSlickCarousel',_vm._b({},'VueSlickCarousel',_vm.settings1,false),_vm._l((_vm.moreworks),function(morework){return _c('div',{key:morework.id},[_c('router-link',{staticClass:\"more-work\",attrs:{\"to\":(\"/product/\" + (morework.id))}},[_c('div',{staticClass:\"more-work-img\"},[_c('img',{attrs:{\"src\":morework.imageUrl[0],\"alt\":\"morework.title\"}})]),_c('div',{staticClass:\"text-center\"},[_c('p',[_vm._v(_vm._s(morework.title))]),_c('div',{staticClass:\"more-work-price\"},[(morework.origin_price === morework.price)?_c('div',{staticClass:\"prod-origin-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(morework.origin_price))+\" \")]):_c('span',[_c('div',{staticClass:\"prod-origin-price old-price\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(morework.origin_price))+\" \")]),_c('div',{staticClass:\"prod-price\"},[_c('h2',[_vm._v(_vm._s(_vm._f(\"currency\")(morework.price)))])])])])])]),_c('a',{staticClass:\"add-to-cart\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(_vm.moreworks.id)}}},[_c('i',{staticClass:\"fa fa-cart-plus\"})]),_c('a',{staticClass:\"add-to-favorite\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateFavorite(_vm.moreworks.id)}}},[(_vm.favorited.indexOf(_vm.moreworks.id) === -1)?_c('i',{staticClass:\"fa fa-heart-o\"}):_c('i',{staticClass:\"fa fa-heart text-danger\"})])],1)}),0)],1):_vm._e()])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"work\" v-if=\"prods\">\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div class=\"container\">\r\n      <div class=\"text-center\">\r\n        <h1>{{ work.title }}</h1>\r\n      </div>\r\n      <hr />\r\n      <div class=\"prod-zone\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">\r\n            <VueSlickCarousel\r\n              ref=\"c1\"\r\n              :asNavFor=\"$refs.c2\"\r\n              :focusOnSelect=\"true\"\r\n            >\r\n              <div v-for=\"(item, idx) in 5\" :key=\"idx\">\r\n                <div class=\"prod-img\">\r\n                  <img :src=\"work.imageUrl[idx]\" />\r\n                </div>\r\n              </div>\r\n            </VueSlickCarousel>\r\n            <VueSlickCarousel\r\n              ref=\"c2\"\r\n              :asNavFor=\"$refs.c1\"\r\n              :slidesToShow=\"4\"\r\n              :focusOnSelect=\"true\"\r\n            >\r\n              <div v-for=\"(item, idx) in 5\" :key=\"idx\">\r\n                <div class=\"prod-img-small\">\r\n                  <img :src=\"work.imageUrl[idx]\" />\r\n                </div>\r\n              </div>\r\n            </VueSlickCarousel>\r\n            <!-- <div class=\"prod-img\" v-for=\"(item, idx) in 5\" :key=\"idx\">\r\n                <img :src=\"work.imageUrl[idx]\" />\r\n              </div> -->\r\n          </div>\r\n          <div class=\"col-md-5 offset-md-1\">\r\n            <div class=\"prod-content\">\r\n              <div class=\"sub-title\">作品材質</div>\r\n              <p>{{ work.description }}</p>\r\n            </div>\r\n            <div class=\"prod-content\">\r\n              <div class=\"sub-title\">價格</div>\r\n              <div\r\n                class=\"prod-origin-price\"\r\n                v-if=\"work.origin_price === work.price\"\r\n              >\r\n                售價 {{ work.origin_price | currency }}\r\n              </div>\r\n              <span v-else>\r\n                <div class=\"prod-origin-price old-price\">\r\n                  售價 {{ work.origin_price | currency }}\r\n                </div>\r\n                <div class=\"prod-price\">\r\n                  <h2>特價 {{ work.price | currency }}</h2>\r\n                </div>\r\n              </span>\r\n            </div>\r\n            <div class=\"add-to-cart-zone\">\r\n              <button class=\"btn\" @click=\"addToCart(work.id)\">\r\n                <i class=\"fa fa-cart-plus\"></i> 加入購物車\r\n              </button>\r\n              <button\r\n                class=\"btn\"\r\n                @click=\"updateFavorite(work.id)\"\r\n                v-if=\"favorited.indexOf(work.id) === -1\"\r\n              >\r\n                <i class=\"fa fa-heart-o\"></i> 加入我的最愛\r\n              </button>\r\n              <button class=\"btn\" @click=\"updateFavorite(work.id)\" v-else>\r\n                <i class=\"fa fa-heart text-danger\"></i> 已加入我的最愛\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div class=\"prod-content\">\r\n          <div class=\"sub-title\">作品介紹</div>\r\n          <div v-html=\"work.content\"></div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div class=\"prod-content\" v-if=\"viewedProds.length > 0\">\r\n          <div class=\"sub-title\">瀏覽紀錄：</div>\r\n          <VueSlickCarousel v-bind=\"settings1\">\r\n            <div v-for=\"viewedProd in viewedProds\" :key=\"viewedProd.id\">\r\n              <router-link class=\"more-work\" :to=\"`/product/${viewedProd.id}`\">\r\n                <div class=\"more-work-img\">\r\n                  <img :src=\"viewedProd.imageUrl[0]\" alt=\"viewedProd.title\" />\r\n                </div>\r\n                <div class=\"text-center\">\r\n                  <p>{{ viewedProd.title }}</p>\r\n                  <div class=\"more-work-price\">\r\n                    <div\r\n                      class=\"prod-origin-price\"\r\n                      v-if=\"viewedProd.origin_price === viewedProd.price\"\r\n                    >\r\n                      {{ viewedProd.origin_price | currency }}\r\n                    </div>\r\n                    <span v-else>\r\n                      <div class=\"prod-origin-price old-price\">\r\n                        {{ viewedProd.origin_price | currency }}\r\n                      </div>\r\n                      <div class=\"prod-price\">\r\n                        <h2>{{ viewedProd.price | currency }}</h2>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </router-link>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-cart\"\r\n                @click.prevent=\"addToCart(viewedProd.id)\"\r\n              >\r\n                <i class=\"fa fa-cart-plus\"></i>\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-favorite\"\r\n                @click.prevent=\"updateFavorite(viewedProd.id)\"\r\n              >\r\n                <i\r\n                  class=\"fa fa-heart-o\"\r\n                  v-if=\"favorited.indexOf(viewedProd.id) === -1\"\r\n                ></i>\r\n                <i class=\"fa fa-heart text-danger\" v-else></i>\r\n              </a>\r\n            </div>\r\n          </VueSlickCarousel>\r\n        </div>\r\n        <div class=\"prod-content more-works\" v-if=\"moreworks.length > 0\">\r\n          <div class=\"sub-title\">更多{{ work.category }}畫作品：</div>\r\n          <VueSlickCarousel v-bind=\"settings1\">\r\n            <div v-for=\"morework in moreworks\" :key=\"morework.id\">\r\n              <!-- <router-link :to=\"`/product/${prod.id}`\"> -->\r\n              <router-link :to=\"`/product/${morework.id}`\" class=\"more-work\">\r\n                <div class=\"more-work-img\">\r\n                  <img :src=\"morework.imageUrl[0]\" alt=\"morework.title\" />\r\n                </div>\r\n                <div class=\"text-center\">\r\n                  <p>{{ morework.title }}</p>\r\n                  <div class=\"more-work-price\">\r\n                    <div\r\n                      class=\"prod-origin-price\"\r\n                      v-if=\"morework.origin_price === morework.price\"\r\n                    >\r\n                      {{ morework.origin_price | currency }}\r\n                    </div>\r\n                    <span v-else>\r\n                      <div class=\"prod-origin-price old-price\">\r\n                        {{ morework.origin_price | currency }}\r\n                      </div>\r\n                      <div class=\"prod-price\">\r\n                        <h2>{{ morework.price | currency }}</h2>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </router-link>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-cart\"\r\n                @click.prevent=\"addToCart(moreworks.id)\"\r\n              >\r\n                <i class=\"fa fa-cart-plus\"></i>\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                class=\"add-to-favorite\"\r\n                @click.prevent=\"updateFavorite(moreworks.id)\"\r\n              >\r\n                <i\r\n                  class=\"fa fa-heart-o\"\r\n                  v-if=\"favorited.indexOf(moreworks.id) === -1\"\r\n                ></i>\r\n                <i class=\"fa fa-heart text-danger\" v-else></i>\r\n              </a>\r\n            </div>\r\n          </VueSlickCarousel>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueSlickCarousel from \"vue-slick-carousel\";\r\nimport \"vue-slick-carousel/dist/vue-slick-carousel.css\";\r\nimport \"vue-slick-carousel/dist/vue-slick-carousel-theme.css\";\r\nexport default {\r\n  components: {\r\n    VueSlickCarousel\r\n  },\r\n  data() {\r\n    return {\r\n      // settings: {\r\n      //   fade: true,\r\n      //   dots: true,\r\n      //   dotsClass: \"slick-dots custom-dot-class\",\r\n      //   edgeFriction: 0.35,\r\n      //   infinite: true,\r\n      //   speed: 500,\r\n      //   slidesToShow: 1,\r\n      //   slidesToScroll: 1\r\n      // },\r\n      settings1: {\r\n        dots: true,\r\n        infinite: false,\r\n        speed: 500,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 4,\r\n        initialSlide: 0,\r\n        responsive: [\r\n          {\r\n            breakpoint: 1024,\r\n            settings: {\r\n              slidesToShow: 3,\r\n              slidesToScroll: 3,\r\n              infinite: true,\r\n              dots: true\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 600,\r\n            settings: {\r\n              slidesToShow: 2,\r\n              slidesToScroll: 2,\r\n              initialSlide: 2\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 480,\r\n            settings: {\r\n              slidesToShow: 1,\r\n              slidesToScroll: 1\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      work: {},\r\n      prods: null,\r\n      moreworks: [],\r\n      viewedProds: [],\r\n      viewed: JSON.parse(localStorage.getItem(\"viewedList\")) || [],\r\n      favorited: JSON.parse(localStorage.getItem(\"favoriteList\")) || [],\r\n      isLoading: false\r\n      // cartTotal: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.getWork();\r\n    this.getViewed();\r\n    this.getMoreworks();\r\n  },\r\n  methods: {\r\n    updateFavorite(id) {\r\n      if (this.favorited.indexOf(id) === -1) {\r\n        this.favorited.push(id);\r\n        this.$bus.$emit(\"message:push\", \"已加入我的最愛\", \"info\");\r\n      } else {\r\n        this.favorited.splice(this.favorited.indexOf(id), 1);\r\n        this.$bus.$emit(\"message:push\", \"已移出我的最愛\", \"info\");\r\n      }\r\n      localStorage.setItem(\"favoriteList\", JSON.stringify(this.favorited));\r\n      // this.favoriteTotalNum = this.favorited.length;\r\n      this.$bus.$emit(\"get-favorite-num:favorited\", id);\r\n    },\r\n    getWork() {\r\n      this.isLoading = true;\r\n      const id = this.$route.params.id;\r\n      this.$http\r\n        .get(\r\n          `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/product/${id}`\r\n        )\r\n        .then(res => {\r\n          // if (this.getMoreworks() === false) {\r\n          //   return;\r\n          // }\r\n          // console.log(Boolean(this.getMoreworks()));\r\n          this.isLoading = false;\r\n          this.work = res.data.data;\r\n          console.log(this.work);\r\n        });\r\n    },\r\n    getMoreworks() {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products?paged=40`;\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.isLoading = false;\r\n          this.prods = res.data.data;\r\n          console.log(this.prods);\r\n          // let obj = JSON.parse(JSON.stringify(this.prods));\r\n          // 相關作品\r\n          this.moreworks = this.prods.filter(\r\n            item =>\r\n              item.category === this.work.category && item.id !== this.work.id\r\n          );\r\n          // console.log(land);\r\n          // this.moreworks = obj;\r\n          console.log(\"moreworks\", this.moreworks);\r\n        })\r\n        .catch(err => {\r\n          console.dir(err);\r\n          this.isLoading = false;\r\n          this.$bus.$emit(\"message:push\", err.response.data.message, \"danger\");\r\n        });\r\n    },\r\n    getViewed() {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products?paged=40`;\r\n      this.$http\r\n        .get(url)\r\n        .then(res => {\r\n          this.isLoading = false;\r\n          this.prods = res.data.data;\r\n          console.log(this.prods);\r\n          // let obj = JSON.parse(JSON.stringify(this.prods));\r\n          // 瀏覽紀錄\r\n          const viewedId = this.$route.params.id;\r\n          if (this.viewed.indexOf(viewedId) === -1) {\r\n            this.viewed.push(viewedId);\r\n          } else {\r\n            this.viewed.splice(this.viewed.indexOf(viewedId));\r\n          }\r\n          localStorage.setItem(\"viewedList\", JSON.stringify(this.viewed));\r\n          this.viewedProds = this.prods.filter(\r\n            item => this.viewed.indexOf(item.id) > -1\r\n          );\r\n          console.log(\"viewedProds\", this.viewedProds);\r\n        })\r\n        .catch(err => {\r\n          console.dir(err);\r\n          this.isLoading = false;\r\n          this.$bus.$emit(\"message:push\", err.response.data.message, \"danger\");\r\n        });\r\n    },\r\n    addToCart(id, qty = 1) {\r\n      this.isLoading = true;\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\r\n      const cart = {\r\n        product: id,\r\n        quantity: qty\r\n      };\r\n      console.log(cart);\r\n\r\n      this.$http\r\n        .post(url, cart)\r\n        .then(res => {\r\n          // this.isLoading = false;\r\n          console.log(res);\r\n          this.$bus.$emit(\r\n            \"message:push\",\r\n            res.data.data.product.title + \"已加入購物車\",\r\n            \"info\"\r\n          );\r\n          this.$bus.$emit(\"get-cart-num\");\r\n          // $(\"#modal\").modal(\"hide\");\r\n          // this.getCart();\r\n        })\r\n        .catch(err => {\r\n          // this.isLoading = false;\r\n          this.$bus.$emit(\r\n            \"message:push\",\r\n            err.response.data.errors[0],\r\n            \"danger\"\r\n          );\r\n          // $(\"#modal\").modal(\"hide\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Work.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Work.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Work.vue?vue&type=template&id=155bf3c8&\"\nimport script from \"./Work.vue?vue&type=script&lang=js&\"\nexport * from \"./Work.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}